<html>
  <head>
    <title>Video API Testing</title>
    <style>
      body {
          font-family: Verdana, Geneva, Tahoma, sans-serif;
      }
  </style>
  </head>
  <body>
    <h1>Vonage Video API - Sample and Test Applications</h1>
        
        <p>
            Enter an appropriate room name below.  You can share this with others.
        </p>
        
        <div id="access-form">
            <b>Enter Room Name:</b> <input id="room-name" onkeyup="roomName=this.value" type="text" size="30" value="" onchange="window.location.href = `./app.html?roomName=${this.value}`">
        </div>

        <p>
            Then choose your method for accessing this room from the samples below.
        </p>
        <p>
            Or just <a href="javascript:openTestPage('./session-info.html')">Get a Session Id and Token</a> for use in a Native SDK
        </p>

        <script>

            const urlParams = new URL(window.location.toLocaleString()).searchParams;
            let roomName = urlParams.get('roomName');

            console.log(roomName)

            if(roomName == null || roomName.length < 3)
                window.location.href = "./app.html?roomName=default-1234"
            
            document.getElementById("room-name").value = roomName
            
            function openTestPage(page){
                if(page != './session-info.html'){
                    page += '/'
                }
                let pageUrl = `./video/${page}?roomName=${roomName}`
                window.location.href = pageUrl

            }

        </script>


  </body>
</html>
